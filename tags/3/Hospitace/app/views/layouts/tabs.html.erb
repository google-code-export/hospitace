<% title :observations, :small=>"#{@observation.course.code} (#{@observation.course.name})" %>

<% content_for :tab do %>
  <ul class="nav nav-tabs">
    <%= tab_item(:info,@observation) if can? :show, @observation %> 
    <%= tab_item(:observation_date,edit_observation_path(@observation)) if can? :manage, @observation %> 
    <%= tab_item(:observers,observation_observers_path(@observation)) if can? :manage, @observation %> 
    <%= tab_item(:notes,observation_notes_path(@observation)) if can? :index, Note %> 
    <% if @observation.state.is_a? Observation::States::Scheduled %>
      <%= tab_item(:start_evaluation,new_observation_evaluation_path(@observation)) if can? :create, Evaluation.new(:observation=>@observation) %> 
    <% elsif @observation.evaluation   %>
      <%= menu_item(:evaluation,evaluation_path(@observation.evaluation)) if can? :read, Evaluation %>
    <% end %> 
  </ul>
<% end %>
<% content_for :content do %>

  <%= message( t("observation.warning"),@observation.state.long_message,@observation.state.actions) if !@observation.state.ok? && can?(:update,@observation) %>
  <%= content_for?(:news_content) ? yield(:news_content) : yield %>

<% end %>








<%= render :template => 'layouts/application' %>