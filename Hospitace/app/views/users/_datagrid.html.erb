
<% content_for :secoundary_content do %>
	
	<div class="header">
		<h3>Filter</h3>
	</div>	
	
	<%= simple_form_for :search,:html=> {:id=>"search_form"},:method=>:get,:wrapper => :inline do |f| %>
	
	<%= hidden_field_tag :direction, params[:direction] %>
	<%= hidden_field_tag :sort, params[:sort] %>
	
	<%= f.input :login, :placeholder => 'user@fel.cvut.cz', :required => false %>
	
	<%= f.input :roles, :collection =>User::ROLES.collect{|i| [t(i), i]},  :as => :check_boxes, :wrapper=>:label_wrapped, :required => false %>
	<div class="actions">
		<%= f.submit :search, :class => 'btn primary' %>
	</div>
	<% end %>

<% end %> 

<div id="datagrid">
<table class="zebra-striped">
  <thead>
  <tr>
    <%= sortable :id, "#" %>
    <%= sortable :login, User.human_attribute_name(:login) %>
    <th><%= User.human_attribute_name(:name) %></th>
    <th><%= User.human_attribute_name(:roles) %></th>
    <th></th>
  </tr>
  </thead>
  

<% @users.each do |user| %>
  <tr>
    <td><%= user.id %></td>
    <td><%= user.login %></td>
    <td><%= user.full_name %></td>
    <td><%= user.roles.collect{|i| t i}.join(", ") %></td>
    <td><%= yield user %></td>
  </tr>
<% end %>
</tbody>
</table>
<%= will_paginate @users, :renderer=> WillPaginate::ActionView::BootstrapLinkRenderer %>
  
</div>
